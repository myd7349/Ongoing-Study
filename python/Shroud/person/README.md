# How to run this example on Win10?

1. Create a virtual environment from command line(cmd.exe)

   >C:\Ongoing-Study\python\Shroud\person> virtualenv person-ven
   >
   >C:\Ongoing-Study\python\Shroud\person> .\person-venv\Scripts\activate

2. Install `llnl-shroud`

   > (person-venv) C:\Ongoing-Study\python\Shroud\person> pip install llnl-shroud

3. Run `shroud.exe` to generate wrapper files

   > (person-venv) C:\Ongoing-Study\python\Shroud\person> mkdir person
   >
   > (person-venv) C:\Ongoing-Study\python\Shroud\person> shroud person.yaml --outdir-python person
   >
   > Wrote person_types.yaml
   > Wrote pyPersontype.cpp
   > Wrote pypersonmodule.cpp
   > Wrote pypersonutil.cpp
   > Wrote pypersonmodule.hpp
   > Wrote setup.py

   It will generate a `setup.py` under current directory. At this point we need to edit the `setup.py` script to include our `person.cpp` file as a source.

   ```python
   # setup.py
   # This file is generated by Shroud 0.12.1. Do not edit.
   from setuptools import setup, Extension
   
   module = Extension(
       'person',
       sources=[
            'person\pyPersontype.cpp',
            'person\pypersonmodule.cpp',
            'person\pypersonutil.cpp',
            "person.cpp",  # <------------------------------- We added this line. Well done!
       ],
       language='c++',
       include_dirs = None,
   #    libraries = ['tcl83'],
   #    library_dirs = ['/usr/local/lib'],      
   #    extra_compile_args = [ '-O0', '-g' ],
   #    extra_link_args =
   )
   
   setup(
       name='person',
       ext_modules = [module],
   )
   ```

   

4. Run `setup.py` generated by `shroud`

   > (person-venv) C:\Ongoing-Study\python\Shroud\person> pip install .
   >
   > (person-venv) C:\Ongoing-Study\python\Shroud\person> py
   > \>>> import person
   > \>>> dir(person)
   > ['Error', 'Person', '__doc__', '__file__', '__loader__', '__name__', '__package__', '__spec__']
   > \>>> tom = person.Person('Tom', 18)
   > \>>> dir(tom)
   > ['Introduce', '__class__', '__delattr__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '_
   > _gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex
   > __', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', 'age', 'name']
   > \>>> tom.name()
   > 'Tom'
   > \>>> tom.age()
   > 18
   > \>>> person.Person.Introduce(tom)
   > 'Hi! This is Tom, and I am 18 years old.'
   > \>>>
   
   Note, we run `setup.py` via `pip install .`. You can also install `person` via:
   
   > python setup.py build
   >
   > python setup.py install

## References:

1. https://github.com/LLNL/shroud/tree/develop/examples/hello-world-python
2. [What is setup.py?](https://stackoverflow.com/questions/1471994/what-is-setup-py)